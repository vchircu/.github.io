<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="./../xmlrpc.php">

<title>Interviewing your architecture &#8211; Simple Oriented Architecture</title>
<meta name="robots" content="max-image-preview:large">
<link rel="dns-prefetch" href="//stats.wp.com">
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//v0.wordpress.com">
<link rel="dns-prefetch" href="//i0.wp.com">
<link rel="alternate" type="application/rss+xml" title="Simple Oriented Architecture &raquo; Feed" href="./../feed/index.html">
<link rel="alternate" type="application/rss+xml" title="Simple Oriented Architecture &raquo; Comments Feed" href="./../comments/feed/index.html">
<script type="text/javascript">
/* <![CDATA[ */
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/svg\/","svgExt":".svg","source":{"concatemoji":".\/\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.6.2"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"🏳️‍⚧️","🏳️​⚧️")?!1:!n(e,"🇺🇳","🇺​🇳")&&!n(e,"🏴󠁧󠁢󠁥󠁮󠁧󠁿","🏴​󠁧​󠁢​󠁥​󠁮​󠁧​󠁿");case"emoji":return!n(e,"🐦‍⬛","🐦​⬛")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
/* ]]> */
</script>
<link rel="stylesheet" id="jetpack_related-posts-css" href="./../wp-content/plugins/jetpack/modules/related-posts/related-posts.css?ver=20240116" type="text/css" media="all">
<style id="wp-emoji-styles-inline-css" type="text/css">img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}</style>
<link rel="stylesheet" id="wp-block-library-css" href="./../wp-includes/css/dist/block-library/style.min.css?ver=6.6.2" type="text/css" media="all">
<link rel="stylesheet" id="mediaelement-css" href="./../wp-includes/js/mediaelement/mediaelementplayer-legacy.min.css?ver=4.2.17" type="text/css" media="all">
<link rel="stylesheet" id="wp-mediaelement-css" href="./../wp-includes/js/mediaelement/wp-mediaelement.min.css?ver=6.6.2" type="text/css" media="all">
<style id="jetpack-sharing-buttons-style-inline-css" type="text/css">.jetpack-sharing-buttons__services-list{display:flex;flex-direction:row;flex-wrap:wrap;gap:0;list-style-type:none;margin:5px;padding:0}.jetpack-sharing-buttons__services-list.has-small-icon-size{font-size:12px}.jetpack-sharing-buttons__services-list.has-normal-icon-size{font-size:16px}.jetpack-sharing-buttons__services-list.has-large-icon-size{font-size:24px}.jetpack-sharing-buttons__services-list.has-huge-icon-size{font-size:36px}@media print{.jetpack-sharing-buttons__services-list{display:none!important}}.editor-styles-wrapper .wp-block-jetpack-sharing-buttons{gap:0;padding-inline-start:0}ul.jetpack-sharing-buttons__services-list.has-background{padding:1.25em 2.375em}</style>
<style id="classic-theme-styles-inline-css" type="text/css">/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}</style>
<style id="global-styles-inline-css" type="text/css">:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}</style>
<link rel="stylesheet" id="bulan-plugins-style-css" href="./../wp-content/themes/bulan/assets/css/plugins.min.css?ver=6.6.2" type="text/css" media="all">
<link rel="stylesheet" id="bulan-fonts-css" href="https://fonts.googleapis.com/css?family=Crimson+Text%3A400%2C700%2C400italic%257COswald%3A400%2C700%2C300&#038;subset=latin%2Clatin-ext&#038;ver=6.6.2" type="text/css" media="all">
<link rel="stylesheet" id="bulan-style-css" href="./../wp-content/themes/bulan/style.min.css?ver=6.6.2" type="text/css" media="all">
<script type="text/javascript" id="jetpack_related-posts-js-extra">
/* <![CDATA[ */
var related_posts_js_options = {"post_heading":"h4"};
/* ]]> */
</script>
<script type="text/javascript" src="./../wp-content/plugins/jetpack/_inc/build/related-posts/related-posts.min.js?ver=20240116" id="jetpack_related-posts-js"></script>
<script type="text/javascript" src="./../wp-includes/js/jquery/jquery.min.js?ver=3.7.1" id="jquery-core-js"></script>
<script type="text/javascript" src="./../wp-includes/js/jquery/jquery-migrate.min.js?ver=3.4.1" id="jquery-migrate-js"></script>
<!--[if lte IE 9]>
<script type="text/javascript" src=".//wp-content/themes/bulan/assets/js/html5shiv.min.js" id="standard-html5-js"></script>
<![endif]-->
<link rel="https://api.w.org/" href="./../wp-json/index.html">
<link rel="alternate" title="JSON" type="application/json" href="./../wp-json/wp/v2/posts/1143/index.html">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="./../xmlrpc.php?rsd">
<meta name="generator" content="WordPress 6.6.2">
<link rel="canonical" href="./index.html">
<link rel="shortlink" href="https://wp.me/p7kV6P-ir">
<link rel="alternate" title="oEmbed (JSON)" type="application/json+oembed" href="./../wp-json/oembed/1.0/embed/index.html?url=https%3A%2F%2F%2Finterviewing-your-architecture%2F">
<link rel="alternate" title="oEmbed (XML)" type="text/xml+oembed" href="./../wp-json/oembed/1.0/embed/index.html?url=https%3A%2F%2F%2Finterviewing-your-architecture%2F#038;format=xml">
	<style>img#wpstats{display:none}</style>
		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article">
<meta property="og:title" content="Interviewing your architecture">
<meta property="og:url" content="./index.html">
<meta property="og:description" content="In this microservices era, many teams are building messaging solutions. What starts as a simple solution with 5 deployment units can quickly grow to tens or even hundreds. I have worked on such a s…">
<meta property="article:published_time" content="2020-02-28T09:49:27+00:00">
<meta property="article:modified_time" content="2024-11-08T09:12:36+00:00">
<meta property="og:site_name" content="Simple Oriented Architecture">
<meta property="og:image" content="./../wp-content/uploads/2020/02/Neo4jBrowser-service.png">
<meta property="og:image:width" content="399">
<meta property="og:image:height" content="361">
<meta property="og:image:alt">
<meta property="og:locale" content="en_US">
<meta name="twitter:site" content="@victorchircu">
<meta name="twitter:text:title" content="Interviewing your architecture">
<meta name="twitter:image" content="./../wp-content/uploads/2020/02/Neo4jBrowser-related.png?w=640">
<meta name="twitter:card" content="summary_large_image">

<!-- End Jetpack Open Graph Tags -->
</head>

<body class="post-template-default single single-post postid-1143 single-format-standard no-custom-header no-featured-image layout-2c-l" itemscope itemtype="http://schema.org/Blog">

<div id="page" class="site">

	<div class="search-area">
		<div class="wide-container">
			<form role="search" method="get" class="searchform" action=".//">
	<div>
		<input type="search" class="search-field field" placeholder="Press enter to search &hellip;" value="" name="s" title="Search for:">
	</div>
</form>
		</div>
	</div>

	
	<header id="masthead" class="site-header" itemscope="itemscope" itemtype="http://schema.org/WPHeader">

		<div class="site-branding">
			<div class="wide-container">
				<div id="logo">
<h1 class="site-title" itemprop="headline"><a href="./../index.html" itemprop="url" rel="home"><span itemprop="headline">Simple Oriented Architecture</span></a></h1>
</div>
			</div>
		</div>

	</header><!-- #masthead -->

	<div id="content" class="site-content">
		<div class="wide-container">

	<div id="primary" class="content-area">
		<main id="main" class="site-main">

			
				<article id="post-1143" class="post-1143 post type-post status-publish format-standard hentry category-architecture category-nservicebus tag-architecture tag-architecture-model tag-diagrams tag-messaging tag-microservices tag-neo4j tag-nservicebus no-post-thumbnail no-sticky entry" itemscope="itemscope" itemtype="http://schema.org/BlogPosting" itemprop="blogPost">

	<header class="entry-header">

								<span class="cat-links" itemprop="articleSection">
				<a href="./../category/architecture/index.html" rel="category tag">Architecture</a>, <a href="./../category/nservicebus/index.html" rel="category tag">NServiceBus</a>			</span>
			<i class="fa fa-circle"></i>
					
					<time class="published" datetime="2020-02-28T09:49:27+00:00" itemprop="datePublished">February 28, 2020</time>
		
		<h1 class="entry-title" itemprop="headline">Interviewing your architecture</h1>
	</header><!-- .entry-header -->

	
	<div class="entry-content" itemprop="articleBody">

		
<p>In this microservices era, many teams are building messaging solutions. What starts as a simple solution with 5 deployment units can quickly grow to tens or even hundreds. I have worked on such a solution for several years and experienced both the advantages and disadvantages of a Service-Oriented Architecture. We used <a href="./../nservicebus-an-experience-report/index.html">NServiceBus </a>(part of <a href="https://particular.net/">Particular&#8217;s Service Platform</a>). </p>



<p>The solution started out simple, but, as the number of features grew, so did the complexity. With tens of message endpoints, it was hard to see both the big picture and the details. For the big picture, we could rely on some manually created diagrams (e.g. a <a href="https://c4model.com/#SystemContextDiagram">Context View</a> in <a href="https://twitter.com/simonbrown">Simon Brown&#8217;</a>s <a href="https://c4model.com/">C4 model</a>). But things got trickier when we wanted to understand the details. When I talk about details, I mean answers to specific questions. For example:</p>



<ul class="wp-block-list">
<li>What messages does endpoint X send/receive? </li>
<li>What endpoints are coupled to the X endpoint?</li>
<li>What messages are part of the Y business flow?</li>
<li>What messages is service Z sending?</li>
<li>What messages trigger message W to be sent?</li>
<li>Show me the entire message flow that starts with message W.</li>
</ul>



<p>While I was thinking about this, I saw this interesting tweet from <a href="https://twitter.com/JackKleeman">Jack Kleeman</a> that showed the communication paths between microservices at Monzo:</p>



<figure class="wp-block-embed-twitter wp-block-embed is-type-rich is-provider-twitter"><div class="wp-block-embed__wrapper">
<blockquote class="twitter-tweet" data-width="550" data-dnt="true">
<p lang="en" dir="ltr">1500 microservices at <a href="https://twitter.com/monzo?ref_src=twsrc%5Etfw">@monzo</a>; every line is an enforced network rule allowing traffic <a href="https://t.co/2r2y9f6LYO">pic.twitter.com/2r2y9f6LYO</a></p>&mdash; Jack Kleeman (@JackKleeman) <a href="https://twitter.com/JackKleeman/status/1190354757308862468?ref_src=twsrc%5Etfw">November 1, 2019</a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div></figure>



<p>Now, the system I worked on was nowhere near this complex, but it made me wonder: how can you answer the questions above when working on such a system? In this blog post we&#8217;ll explore some options. To keep things simple, in this blog post we&#8217;ll use a <a href="https://github.com/vchircu/LongRunningProcesses/tree/msmq-transport">sample eCommerce solution</a> (that I&#8217;ve also used in my article series about <a href="./../tag/long-running-process/index.html">Designing long-running processes in distributed systems</a>).</p>



<span id="more-1143"></span>



<h2 class="wp-block-heading">Messaging Basics</h2>



<p>For a quick refresher on some of the terms I&#8217;ll use in this blog post, checkout these links:</p>



<ul class="wp-block-list">
<li><a href="https://www.enterpriseintegrationpatterns.com/patterns/messaging/MessageEndpoint.html">Messaging Endpoint</a></li>
<li><a href="https://www.enterpriseintegrationpatterns.com/patterns/messaging/Message.html">Message</a></li>
<li><a href="https://www.enterpriseintegrationpatterns.com/patterns/messaging/CommandMessage.html">Command</a></li>
<li><a href="https://www.enterpriseintegrationpatterns.com/patterns/messaging/EventMessage.html">Event</a></li>
</ul>



<p>Also, when I say <strong>service </strong>in this blog post, I use <a href="https://twitter.com/UdiDahan">Udi Dahan</a>&#8216;s <a href="http://udidahan.com/2010/11/15/the-known-unknowns-of-soa/">definition</a>:</p>



<blockquote class="wp-block-quote is-layout-flow wp-block-quote-is-layout-flow">
<p>A service is the technical authority for a specific business capability. <br>Any piece of data or rule must be owned by only one service. </p>
<cite>Udi Dahan</cite>
</blockquote>



<p>So a service is not a deployment unit (e.g. a Web API). Our classic eCommerce website could be split in the following services. Each service can contain many message endpoints.</p>



<figure class="wp-block-image size-large"><img data-recalc-dims="1" fetchpriority="high" decoding="async" width="500" height="213" src="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/Example_OrderFulfillment_small.jpg?resize=500%2C213&#038;ssl=1" alt="Example: Services in an eCommerce solution - Sales, Finance, Inventory, Shipping" class="wp-image-1145"></figure>



<p>Now, with the basics out of the way, let&#8217;s see how we can tackle this problem. </p>



<h2 class="wp-block-heading">Static Diagrams</h2>



<p>The easiest solution is to rely on static diagrams. You can draw these by hand or use a diagramming tool like Visio or <a href="https://www.draw.io/">draw.io</a>. Here&#8217;s an example diagram for the Place Order flow:</p>



<figure class="wp-block-image size-large"><img decoding="async" width="2376" height="1332" src="https://i1.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/diagram.png?fit=628%2C399&amp;ssl=1" alt="Place Order business flow" class="wp-image-1147" srcset="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/diagram.png?w=2376&amp;ssl=1 2376w, https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/diagram.png?resize=768%2C431&amp;ssl=1 768w, https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/diagram.png?resize=1536%2C861&amp;ssl=1 1536w, https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/diagram.png?resize=2048%2C1148&amp;ssl=1 2048w, https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/diagram.png?w=1256&amp;ssl=1 1256w, https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/diagram.png?w=1884&amp;ssl=1 1884w" sizes="(max-width: 628px) 100vw, 628px"></figure>



<h3 class="wp-block-heading">Pros</h3>



<ul class="wp-block-list">
<li>
<strong>Easy to create</strong>. You can draw this one quite easily (especially if you can copy/paste components from other diagrams). You can also easily add them in your team&#8217;s wiki or knowledge base.</li>
<li>
<strong>Useful when designing a new feature</strong>. We found static diagrams really useful in the solution design phase, before writing the code. You can quickly draft a solution, request feedback and then update the diagrams based on the feedback.</li>
</ul>



<h3 class="wp-block-heading">Cons</h3>



<ul class="wp-block-list"><li>
<strong>Useless after implementation </strong>&#8211; since you have to update them by hand, it takes time to keep them up to date. These won&#8217;t always be updated together with the code, so they can be misleading.</li></ul>



<p>If we look at our list of questions, we can see that this type of diagrams only answers two questions:</p>



<ul class="wp-block-list">
<li>What messages are part of the Y business flow?</li>
<li>Show me the entire message flow that starts with message W. </li>
</ul>



<p>So, although useful, this is not enough. Maintaining these diagrams manually on a continuously evolving system is a huge pain in the ass. So let&#8217;s explore other options. </p>



<h2 class="wp-block-heading">Generated Diagrams</h2>



<p> If not manually, then let&#8217;s generate them. </p>



<h3 class="wp-block-heading">Where&#8217;s my architecture?</h3>



<p>The questions is, where should we generate them from? Where can we find the architecture of a message based system?</p>



<h4 class="wp-block-heading">In the code</h4>



<p>One option would be to look at the code. We were using <a href="https://particular.net/nservicebus">NServiceBus</a>, so the code was quite expressive. For example, the routing code for the <strong>Finance.Endpoint</strong> in our sample solution looks like this:</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: csharp; title: ; notranslate" title="">
routing.RouteToEndpoint(typeof(ChargeCreditCardRequest), &quot;ItOps.CreditCardProcessor.Gateway&quot;);
routing.RegisterPublisher(typeof(Sales.Messages.IOrderPlaced), &quot;Sales.Endpoint&quot;);
</pre></div>


<p>This clearly states that the <strong>Finance.Endpoint</strong> sends the <strong>ChargeCreditCardRequest </strong>to the <strong>ItOps.CreditCardProcessor.Gateway</strong> endpoint and that it subscribes to the <strong>IOrderPlaced </strong>event published by the <strong>Sales.Endpoint</strong>.</p>



<p>Of course, this code doesn&#8217;t tell how the endpoint will handle the <strong>IOrderPlaced</strong> event. But, for that, you can look at the handling code. Here is how the <strong>Inventory.Endpoint</strong> handles this event.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: csharp; title: ; notranslate" title="">
public class OrderPlacedHandler : IHandleMessages&lt;IOrderPlaced&gt;
{
    public Task Handle(IOrderPlaced message, IMessageHandlerContext context)
    {
        return context.Publish&lt;IOrderPacked&gt;(m =&gt; { m.OrderId = message.OrderId; });
    }
}
</pre></div>


<p>By analyzing this code, you can infer that the <strong>Inventory.Endpoint</strong> publishes the <strong>IOrderPacked </strong>event when handling the <strong>IOrderPlaced </strong>event.</p>



<p>The main downside of this approach was that we needed to build the tools to extract the data from code ourselves. Although not hard, this wouldn&#8217;t be a trivial piece of work. But luckily for us, there was a simpler answer.</p>



<h4 class="wp-block-heading">At Runtime</h4>



<p>Instead of looking at the code, we could look at the messages that pass through the system. The message body might look like this.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: xml; title: ; notranslate" title="">
&lt;IOrderCharged&gt;
    &lt;OrderId&gt;6ADA5443-E6F7-4A65-8F21-2BC83C4719D4&lt;/OrderId&gt;
&lt;/IOrderCharged&gt;
</pre></div>


<p>Although interesting, this isn&#8217;t what we&#8217;re looking for. But, if we look at the <strong>headers </strong>&#8211; which contain metadata about the message &#8211; then things start to look a lot more interesting. Let&#8217;s see what <a href="https://docs.particular.net/nservicebus/messaging/headers">headers we get out of the box with NServiceBus</a>.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: xml; highlight: [2,3,4,5,8,12,21]; title: ; notranslate" title="">
&quot;Headers&quot;: {
        &quot;NServiceBus.MessageId&quot;: &quot;a3bdad10-34d4-4c1e-b932-ab1000435b1b&quot;,
        &quot;NServiceBus.MessageIntent&quot;: &quot;Publish&quot;,
        &quot;NServiceBus.RelatedTo&quot;: &quot;f7d2f788-1523-4ff1-9b0f-ab1000435aff&quot;,
        &quot;NServiceBus.ConversationId&quot;: &quot;b4520bfa-e60b-4840-b538-ab1000435a6c&quot;,
        &quot;NServiceBus.CorrelationId&quot;: &quot;6dd74a0f-26f7-49fc-b96a-ab1000435a6c&quot;,
        &quot;NServiceBus.OriginatingMachine&quot;: &quot;DESKTOP-9DOREUQ&quot;,
        &quot;NServiceBus.OriginatingEndpoint&quot;: &quot;Finance.Endpoint&quot;,
        &quot;$.diagnostics.originating.hostid&quot;: &quot;b491715d021de132c7dbb35e91b73ec3&quot;,
        &quot;NServiceBus.ReplyToAddress&quot;: &quot;Finance.Endpoint@DESKTOP-9DOREUQ&quot;,
        &quot;NServiceBus.ContentType&quot;: &quot;text/xml&quot;,
        &quot;NServiceBus.EnclosedMessageTypes&quot;: &quot;MyShop.Finance.Messages.IOrderCharged, MyShop.Finance.Messages, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null&quot;,
        &quot;NServiceBus.Version&quot;: &quot;7.2.0&quot;,
        &quot;NServiceBus.TimeSent&quot;: &quot;2019-11-25 04:05:14:116315 Z&quot;,
        &quot;CorrId&quot;: &quot;6dd74a0f-26f7-49fc-b96a-ab1000435a6c\\0&quot;,
        &quot;NServiceBus.ProcessingStarted&quot;: &quot;2019-11-25 04:05:14:134318 Z&quot;,
        &quot;NServiceBus.ProcessingEnded&quot;: &quot;2019-11-25 04:05:14:160314 Z&quot;,
        &quot;$.diagnostics.hostid&quot;: &quot;8190dc1d19e2e350e3cf07c2aa36f53a&quot;,
        &quot;$.diagnostics.hostdisplayname&quot;: &quot;DESKTOP-9DOREUQ&quot;,
        &quot;NServiceBus.ProcessingMachine&quot;: &quot;DESKTOP-9DOREUQ&quot;,
        &quot;NServiceBus.ProcessingEndpoint&quot;: &quot;Shipping.Endpoint&quot;
    }
</pre></div>


<p>As you can see there&#8217;s a lot of useful information in here:</p>



<ul class="wp-block-list">
<li>
<strong>EnclosedMessageTypes </strong>(line 12) &#8211; the message&#8217;s fully qualified type name. In this case it&#8217;s the <em>MyShop.Finance.Messages.IOrderCharged</em> type from the <em>MyShop.Finance.Messages assembly</em>.</li>
<li>
<strong>MessageIntent </strong>(line 3) &#8211; this tells us the intent of the message. In this case, this message is an event, because the <em>MessageIntent </em>is <em>Publish</em>.</li>
<li>
<strong>OriginatingEndpoint </strong>(line 8) &#8211; what endpoint sent this message. In this case, it was sent by <em>Finance.Endpoint</em>.</li>
<li>
<strong>ProcessingEndpoint </strong>(line 21) &#8211; what endpoint handled this message. In this case, it was processed by <em>Shipping.Endpoint</em>.</li>
<li>
<strong>MessageId </strong>(line 2) &#8211; a unique Id of the message.</li>
<li>
<strong>RelatedTo </strong>(line 4) &#8211; this tells us the Id of the message that triggered the current message.</li>
<li>
<strong>ConversationId </strong>(line 5)- the unique Id of the conversation that this message is a part of.</li>
</ul>



<p>The last three are especially useful since they allow us to understand the flow of messages. Using these <strong>conversation </strong>and <strong>causation </strong>headers, you can build a map like this: </p>



<figure class="wp-block-image size-large"><img decoding="async" width="1338" height="783" src="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/Conversation.png?fit=628%2C399&amp;ssl=1" alt="Conversation and Causation" class="wp-image-1148" srcset="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/Conversation.png?w=1338&amp;ssl=1 1338w, https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/Conversation.png?resize=768%2C449&amp;ssl=1 768w, https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/Conversation.png?w=1256&amp;ssl=1 1256w" sizes="(max-width: 628px) 100vw, 628px"></figure>



<h3 class="wp-block-heading">Message Store</h3>



<p>So now we know that we can use the information in the message headers to answer our questions. But <em>How can we report against message information without disturbing the loosely coupled and transient nature of a messaging system?</em> Well, the <a href="https://www.enterpriseintegrationpatterns.com/patterns/messaging/">Enterprise Integration Patterns catalog</a> has the answer to this question in the form of the <a href="https://www.enterpriseintegrationpatterns.com/patterns/messaging/MessageStore.html">Message Store</a> pattern. <em>Use a Message Store to capture information about each message in a central location</em>. Luckily for us, this pattern is already implemented in Particular&#8217;s Service Platform in the form of the <a href="https://docs.particular.net/servicecontrol/audit-instances/">ServiceControl Audit instance</a>:</p>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1170" height="250" src="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/ServiceControlAuditInstance.png?fit=628%2C153&amp;ssl=1" alt="" class="wp-image-1150" srcset="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/ServiceControlAuditInstance.png?w=1170&amp;ssl=1 1170w, https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/ServiceControlAuditInstance.png?resize=768%2C164&amp;ssl=1 768w" sizes="(max-width: 628px) 100vw, 628px"></figure>



<p>After processing a message, each endpoint can send a copy of it to an audit queue. The ServiceControl Audit instance consumes messages off that queue and stores them (in a RavenDB database). </p>



<p>We now know where we can get that data from. But how can we use it?</p>



<h3 class="wp-block-heading">ServiceInsight</h3>



<p>The easiest way to explore this data is to use <a href="https://docs.particular.net/serviceinsight/">ServiceInsight</a>. This tool lets you visualize the messages that flow through your system. Here is, for example, a part of our place order flow:</p>



<figure class="wp-block-image size-full"><img data-recalc-dims="1" loading="lazy" decoding="async" width="628" height="220" src="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/ServiceInsight-Message-Flow.png?resize=628%2C220&#038;ssl=1" alt="" class="wp-image-1152" srcset="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/ServiceInsight-Message-Flow.png?w=1640&amp;ssl=1 1640w, https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/ServiceInsight-Message-Flow.png?resize=768%2C269&amp;ssl=1 768w, https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/ServiceInsight-Message-Flow.png?resize=1536%2C539&amp;ssl=1 1536w, https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/ServiceInsight-Message-Flow.png?w=1256&amp;ssl=1 1256w" sizes="(max-width: 628px) 100vw, 628px"></figure>



<h4 class="wp-block-heading">Pros</h4>



<ul class="wp-block-list">
<li><strong>Out-of-the-box solution</strong></li>
<li><strong>It&#8217;s always up to date. </strong></li>
<li>
<strong>ServiceInsight is a very useful debugging tool</strong>. If something is not right, you can look at the flow of messages and the message content. This makes it a lot easier to investigate bugs and issues.</li>
<li>
<strong>You can see an entire conversation</strong>. When you search for a message, you can also see the full conversation. (Actually, when I&#8217;ve last used it there was a technical limitation &#8211; you could only the first 50 or 100 messages in a conversation. This was actually an issue for us, since we were running some batch processes that exceeded this limit).</li>
</ul>



<h4 class="wp-block-heading">Cons</h4>



<ul class="wp-block-list"><li>Service Insight is a debugging tool. Hence, it&#8217;s focused on conversations and its <strong>querying capabilities, although good, are limited</strong>. You can&#8217;t answer questions like: What endpoints are coupled to the X endpoint?</li></ul>



<p>But, there&#8217;s another tool in the <a href="https://github.com/ParticularLabs">Particular Labs</a> that does answer this type of question. </p>



<h3 class="wp-block-heading">Routing Visualization</h3>



<p><a href="https://github.com/ParticularLabs/RoutingVisualization">RoutingVisualization</a> is <em>a command line tool that uses audit data stored in ServiceControl to construct a visualization of endpoints and the messages being routed between them. </em>This visualization takes the form of a DGML (<a href="https://docs.microsoft.com/en-us/visualstudio/modeling/directed-graph-markup-language-dgml-reference?view=vs-2019">Directed Graph Markup Language</a>) file. (By the way, I found out about this tool from <a href="https://twitter.com/Wolfbyte">Mike Minutillo</a> presentation &#8211; <a href="https://www.youtube.com/watch?v=9aOx7zuiBUo">A picture is worth 1000 lines of code</a>. In this talk, he presents some tools and techniques for visualizing complex software systems &#8211; really great stuff).</p>



<p>Here is the visualization for our sample eCommerce solution:</p>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1482" height="524" src="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/RoutingVisualization-example.png?fit=628%2C321&amp;ssl=1" alt="" class="wp-image-1154" srcset="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/RoutingVisualization-example.png?w=1482&amp;ssl=1 1482w, https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/RoutingVisualization-example.png?resize=768%2C272&amp;ssl=1 768w, https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/RoutingVisualization-example.png?w=1256&amp;ssl=1 1256w" sizes="(max-width: 628px) 100vw, 628px"></figure>



<p>This can give you an overview of the messages that an endpoint is sending/receiving. Unfortunately, on a bigger system, the picture might look more like the one below. This makes it quite hard to explore and understand what&#8217;s going one.</p>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1248" height="227" src="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/RoutingVisualization-example-complex.png?fit=628%2C139&amp;ssl=1" alt="Routing Visualization - too complex" class="wp-image-1158" srcset="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/RoutingVisualization-example-complex.png?w=1248&amp;ssl=1 1248w, https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/RoutingVisualization-example-complex.png?resize=768%2C140&amp;ssl=1 768w" sizes="(max-width: 628px) 100vw, 628px"></figure>



<h4 class="wp-block-heading">Routing Visualization Architecture</h4>



<p>The tool generates this visualization by going over the messages in the Service Control audit database (i.e. the message store). <a href="https://github.com/ParticularLabs/RoutingVisualization#what-does-it-do">Here&#8217;s how</a>: </p>



<figure class="wp-block-image size-large"><img data-recalc-dims="1" loading="lazy" decoding="async" width="628" height="411" src="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/RoutingVisualization-architecture.png?resize=628%2C411&#038;ssl=1" alt="Routing Visualization Architecture" class="wp-image-1156" srcset="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/RoutingVisualization-architecture.png?w=900&amp;ssl=1 900w, https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/RoutingVisualization-architecture.png?resize=768%2C503&amp;ssl=1 768w" sizes="(max-width: 628px) 100vw, 628px"></figure>



<p>So, although not ideal on complex systems, this tool gave us an idea on how to move forward. Instead of generating a diagram, maybe we can generate an architecture model. </p>



<h2 class="wp-block-heading">Runtime Generated Model</h2>



<p>But first, what is an architecture model? A good way to describe it is to compare it with diagramming. Here are a couple of tweets from <a href="https://twitter.com/simonbrown">Simon Brown</a> on this topic:</p>



<figure class="wp-block-embed-twitter wp-block-embed is-type-rich is-provider-twitter"><div class="wp-block-embed__wrapper">
<blockquote class="twitter-tweet" data-width="550" data-dnt="true">
<p lang="en" dir="ltr">With a model, you create a non-visual definition of things (e.g. elements and relationships), and create diagrams based upon a subset of that model. This gives you consistency &#8230; rename something in the model and it&#39;s renamed across all diagrams automatically.</p>&mdash; Simon Brown (@simonbrown) <a href="https://twitter.com/simonbrown/status/1091379151548940288?ref_src=twsrc%5Etfw">February 1, 2019</a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div></figure>



<h3 class="wp-block-heading">Choosing a model</h3>



<p>So we decided to extract the data from ServiceControl and put it in a model that will help us answer the type of questions we&#8217;ve discussed:</p>



<ul class="wp-block-list">
<li>What messages does endpoint X send/receive? </li>
<li>What endpoints are coupled to the X endpoint?</li>
<li>What messages are part of the Y business flow?</li>
<li>What messages is service Z sending?</li>
<li>What messages trigger message W to be sent?</li>
<li>Show me the entire message flow that starts with message W </li>
</ul>



<p>To decide on what model we&#8217;ll use, we also had a look at the shape of data. What data model is a natural fit for this type of data &#8211; relational, document or graph? As you&#8217;ve might have guessed, we picked the graph data model. </p>



<h3 class="wp-block-heading">Implementing the model</h3>



<p>We picked <a href="https://neo4j.com/">Neo4j</a> as the backing store for our model. It&#8217;s probably the most well-known graph database, it has good documentation, it&#8217;s easy to learn and its <a href="https://neo4j.com/subscriptions/#editions">community edition</a> is sufficient for this use case.</p>



<p>Neo4j uses the <a href="https://neo4j.com/developer/graph-database/">Labeled Property Graph Model</a>. It&#8217;s a directed graph in which nodes can have labels and both nodes and relationships can have properties.</p>



<figure class="wp-block-image size-large"><img data-recalc-dims="1" loading="lazy" decoding="async" width="585" height="483" src="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/LabelPropertyGraphModel.png?resize=585%2C483&#038;ssl=1" alt="Labeled Property Graph Model" class="wp-image-1164"></figure>



<p>With this model in mind, we needed to decide how to model our problem. What schema should we use? After reading about <a href="https://neo4j.com/developer/guide-data-modeling/">schema design</a>, this is what we ended up with:</p>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="765" height="783" src="https://i2.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/ModelSchema.png?fit=628%2C534&amp;ssl=1" alt="Schema" class="wp-image-1165"></figure>



<p>With the schema defined, all that was left was to actually put the data in Neo4j. So, <a href="https://github.com/vchircu/NServiceBusAuditToNeo4J">I played around a bit and adapted the Routing Visualization solution</a> to import the data in Neo4j instead of a DGML file. I also changed the way messages are processed, since I wanted to add the causation (related to) relationship (which is not part of the Routing Visualization solution).</p>



<h3 class="wp-block-heading">Using the model</h3>



<h4 class="wp-block-heading">The Cypher Query Language</h4>



<p>This model allows us to ask questions. Neo4j uses the <a href="https://neo4j.com/developer/cypher-query-language/">Cypher query language</a>. This query language is based on ASCII art and is very expressive. Let&#8217;s see an example: </p>



<p>The question I want to get an answer to is:</p>



<p><strong>What endpoints are coupled to the X endpoint?</strong> </p>



<p>If you&#8217;d model this question as a graph, using the schema defined above, it would look like this:</p>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1443" height="243" src="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/QueryingGraphs1.png?fit=628%2C149&amp;ssl=1" alt="" class="wp-image-1166" srcset="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/QueryingGraphs1.png?w=1443&amp;ssl=1 1443w, https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/QueryingGraphs1.png?resize=768%2C129&amp;ssl=1 768w, https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/01/QueryingGraphs1.png?w=1256&amp;ssl=1 1256w" sizes="(max-width: 628px) 100vw, 628px"></figure>



<p>And, since you&#8217;re using Cypher, it actually looks like this: </p>



<pre class="wp-block-code"><code>MATCH
(e:Endpoint {id: 'X'})-&#91;:SENDS]->(m:Message)&lt;-&#91;:RECEIVES]-(related:Endpoint)
RETURN related, m</code></pre>



<p>I find it quite intuitive and easy to understand. You can also use the <a href="https://neo4j.com/developer/neo4j-browser/">Neo4j Browser</a> to explore the results, which is helpful. You can drag the nodes or click on them to find more details.</p>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1136" height="931" src="https://i2.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/02/Neo4jBrowser.png?fit=628%2C399&amp;ssl=1" alt="Results shown in the Neo4j Browser" class="wp-image-1168" srcset="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/02/Neo4jBrowser.png?w=1136&amp;ssl=1 1136w, https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/02/Neo4jBrowser.png?resize=768%2C629&amp;ssl=1 768w" sizes="(max-width: 628px) 100vw, 628px"></figure>



<h4 class="wp-block-heading">Interviewing you architecture</h4>



<p>So let&#8217;s see how we can ask the questions that we&#8217;ve been talking about. After each query, I&#8217;ll also include a print screen of the results shown in the Neo4j Browser.</p>



<p><strong>What messages does Finance.Endpoint send/receive?</strong> </p>



<pre class="wp-block-code"><code>MATCH (e:Endpoint {id:'Finance.Endpoint'})-&#91;]->(m:Message) 
RETURN e, m</code></pre>



<p>Notice that we don&#8217;t specify the relationship type (-[]->) so it includes both send and receive.</p>



<figure class="wp-block-image size-large"><img data-recalc-dims="1" loading="lazy" decoding="async" width="440" height="542" src="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/02/Neo4jBrowser-message_for_endpoint.png?resize=440%2C542&#038;ssl=1" alt="What messages does Finance.Endpoint send/receive?" class="wp-image-1175"></figure>



<p><strong>What endpoints are coupled to the Finance.Endpoint endpoint?</strong></p>



<pre class="wp-block-code"><code>MATCH (e:Endpoint {id:'Finance.Endpoint'})-&#91;:SENDS]->(m:Message {intent:'Send'})&lt;-&#91;:RECEIVES]-(related:Endpoint) 
RETURN related, m</code></pre>



<figure class="wp-block-image size-large"><img data-recalc-dims="1" loading="lazy" decoding="async" width="628" height="562" src="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/02/Neo4jBrowser-endpoint_coupling.png?resize=628%2C562&#038;ssl=1" alt="What endpoints are coupled to the Finance.Endpoint endpoint?" class="wp-image-1176"></figure>



<p><strong>What messages are part of the Place Order business flow?</strong></p>



<pre class="wp-block-code"><code>MATCH (c:Context {id: 'Place Order'})-&#91;:CONTAINS]->(m:Message) 
RETURN m</code></pre>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1281" height="703" src="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/02/Neo4jBrowser-flow.png?fit=628%2C399&amp;ssl=1" alt="What messages are part of the Place Order business flow?" class="wp-image-1177" srcset="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/02/Neo4jBrowser-flow.png?w=1281&amp;ssl=1 1281w, https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/02/Neo4jBrowser-flow.png?resize=768%2C421&amp;ssl=1 768w" sizes="(max-width: 628px) 100vw, 628px"></figure>



<p><strong>What messages is the ItOps service sending?</strong></p>



<pre class="wp-block-code"><code>MATCH (e:Endpoint)-&#91;:SENDS]->(m:Message) Where (e.id =~ 'ItOps.*')
RETURN e, m</code></pre>



<p>Notice how we use a <a href="https://neo4j.com/docs/cypher-manual/current/clauses/where/#query-where-regex">where clause with with a regular expression</a>. We can do this because we use a naming convention: the name of an endpoint starts with the service name.</p>



<figure class="wp-block-image size-large"><img data-recalc-dims="1" loading="lazy" decoding="async" width="399" height="361" src="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/02/Neo4jBrowser-service.png?resize=399%2C361&#038;ssl=1" alt="What messages is the ItOps service sending?" class="wp-image-1178"></figure>



<p><strong>What messages trigger message Finance.IOrderCharged to be sent?</strong></p>



<pre class="wp-block-code"><code>MATCH (m:Message {id:'Finance.IOrderCharged'})-&#91;:RELATED_TO]->(related:Message) 
RETURN m, related</code></pre>



<figure class="wp-block-image size-large"><img data-recalc-dims="1" loading="lazy" decoding="async" width="428" height="197" src="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/02/Neo4jBrowser-related.png?resize=428%2C197&#038;ssl=1" alt="What messages trigger message Finance.IOrderCharged to be sent?" class="wp-image-1179"></figure>



<p><strong>Show me the entire message flow that starts with the Sales.IOrderPlaced</strong> <strong>message</strong></p>



<pre class="wp-block-code"><code>MATCH (m:Message)-&#91;:RELATED_TO*]->(related:Message {id:'Sales.IOrderPlaced'}) 
RETURN m, related</code></pre>



<p>Notice how we use <strong>*</strong> to specify that we want to return a <a href="https://neo4j.com/docs/cypher-manual/current/clauses/match/#varlength-rels">Variable Length Relationship</a>. This allows us to return the entire message flow.</p>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1163" height="619" src="https://i2.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/02/Neo4jBrowser-messages_after.png?fit=628%2C380&amp;ssl=1" alt="Show me the entire message flow that starts with the Sales.IOrderPlaced message" class="wp-image-1180" srcset="https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/02/Neo4jBrowser-messages_after.png?w=1163&amp;ssl=1 1163w, https://i0.wp.com/www.simpleorientedarchitecture.com/wp-content/uploads/2020/02/Neo4jBrowser-messages_after.png?resize=768%2C409&amp;ssl=1 768w" sizes="(max-width: 628px) 100vw, 628px"></figure>



<h4 class="wp-block-heading">Pros</h4>



<ul class="wp-block-list"><li>The main advantage is that you now have a <strong>queryable model</strong>.</li></ul>



<h4 class="wp-block-heading">Cons</h4>



<ul class="wp-block-list">
<li>It&#8217;s a <strong>custom solution</strong> that you need to build and maintain.</li>
<li>Since this model is generated by looking at the Message Store, you&#8217;ll need to <strong>regenerate the model every time you update the message flow</strong> (e.g. by adding or removing a message type).</li>
<li>The <strong>out-of-the-box visualization that comes with the Neo4j Browser is not ideal</strong> because you can&#8217;t customize it too much. Of course, if the need arises, you could build your own visualization on top of the Neo4j database.</li>
</ul>



<h2 class="wp-block-heading">Conclusion</h2>



<p>By building a runtime generated model you are in a better position to explore and understand a complex, message based system. Here are some things to keep in mind if you&#8217;re working on such a system:</p>



<h4 class="wp-block-heading">Know the patterns</h4>



<p>If you&#8217;re working on a messaging system, you should know the <a href="https://www.enterpriseintegrationpatterns.com/">messaging patterns</a>.</p>



<h4 class="wp-block-heading">Use a message endpoint library</h4>



<p>Why? Because you&#8217;ll probably need many of the messaging patterns. As <a href="https://twitter.com/jbogard">Jimmy Bogard</a> puts it, if you try to implement your own message endpoint library..</p>



<figure class="wp-block-embed-twitter wp-block-embed is-type-rich is-provider-twitter"><div class="wp-block-embed__wrapper">
<blockquote class="twitter-tweet" data-width="550" data-dnt="true">
<p lang="en" dir="ltr">message endpoint libraries implement a large portion of the EIP, and much more <a href="https://t.co/GtPLjuEId6">https://t.co/GtPLjuEId6</a> <br><br>some patterns are simple to implement, some hard, and all almost surely a waste of your employer&#39;s time and money to write yourself</p>&mdash; Jimmy Bogard (@jbogard) <a href="https://twitter.com/jbogard/status/1184449688868663296?ref_src=twsrc%5Etfw">October 16, 2019</a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div></figure>



<h4 class="wp-block-heading">Consider building models</h4>



<p>Why? Because, as Simon Brown says, models allow you to explore a complex system:</p>



<figure class="wp-block-embed-twitter wp-block-embed is-type-rich is-provider-twitter"><div class="wp-block-embed__wrapper">
<blockquote class="twitter-tweet" data-width="550" data-dnt="true">
<p lang="en" dir="ltr">Your model could be code, or it could be YAML, which you parse and visualise with any tool you like. Or you could load the model into neo4j, and query the underlying graph structure, to look for cyclic dependencies, etc. As developers, we have many tools at our disposal.</p>&mdash; Simon Brown (@simonbrown) <a href="https://twitter.com/simonbrown/status/1232606452008792067?ref_src=twsrc%5Etfw">February 26, 2020</a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div></figure>



<h4 class="wp-block-heading">Consider the shape of data and the query patterns</h4>



<p>When building the model (or any data store as a matter of fact), always look to see what data model is a natural fit. Also, think of the answers that you want to extract out of that model. This can help you put the data in the right schema.</p>



<p>I would love to see more examples of automatically building architecture models. If you know some, please leave a comment! </p>

<div id="jp-relatedposts" class="jp-relatedposts">
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</div>		
	</div>

	<footer class="entry-footer">

					<span class="tag-links" itemprop="keywords">
									<a href="./../tag/architecture/index.html"><span>#</span>architecture</a>
									<a href="./../tag/architecture-model/index.html"><span>#</span>architecture model</a>
									<a href="./../tag/diagrams/index.html"><span>#</span>diagrams</a>
									<a href="./../tag/messaging/index.html"><span>#</span>messaging</a>
									<a href="./../tag/microservices/index.html"><span>#</span>microservices</a>
									<a href="./../tag/neo4j/index.html"><span>#</span>neo4j</a>
									<a href="./../tag/nservicebus/index.html"><span>#</span>NServiceBus</a>
							</span>
		
	</footer>

	<div class="jetpack-share-like">
					</div>

</article><!-- #post-## -->

				
	<div class="author-bio" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
		<img alt="Victor Chircu" src="https://secure.gravatar.com/avatar/331148ee28fef6336a73beb488fc0bdc?s=80&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/331148ee28fef6336a73beb488fc0bdc?s=160&#038;d=mm&#038;r=g 2x" class="avatar avatar-80 photo" height="80" width="80" loading="lazy" decoding="async" itemprop="image">		<div class="description">
			<h3 class="author-title name">
				<a class="author-name url fn n" href="./../author/victor-chircugmail-com/index.html" rel="author" itemprop="url"><span itemprop="name">Victor Chircu</span></a>
			</h3>
			<p class="bio" itemprop="description">I'm a software architect and continuous learner. I like solving real, challenging problems and sharing experiences with other people.</p>
			<ul class="author-social">
									<li class="website">
						<a href="./../index.html"><i class="fa fa-home"></i></a>
					</li>
													<li class="twitter">
						<a href="https://twitter.com/victorchircu/"><i class="fa fa-twitter"></i></a>
					</li>
																									<li class="linkedin">
						<a href="https://www.linkedin.com/in/victor-chircu-1519a331"><i class="fa fa-linkedin"></i></a>
					</li>
							</ul>
		</div>
	</div>
<!-- .author-bio -->


				
		<div class="related-posts">
			<h3>Related Posts</h3>
			<ul>
									<li>
												<h2 class="entry-title"><a href="./../nservicebus-an-experience-report/index.html" rel="bookmark">NServiceBus: An Experience Report</a></h2>						<time class="published" datetime="2019-08-30T14:56:30+00:00">August 30, 2019</time>
					</li>
									<li>
												<h2 class="entry-title"><a href="./../handling-failure-in-long-running-processes/index.html" rel="bookmark">Handling Failure in Long Running Processes</a></h2>						<time class="published" datetime="2019-07-13T09:41:39+00:00">July 13, 2019</time>
					</li>
									<li>
												<h2 class="entry-title"><a href="./../7-strategies-for-assigning-ids/index.html" rel="bookmark">7 Strategies for Assigning Ids</a></h2>						<time class="published" datetime="2019-06-21T06:20:17+00:00">June 21, 2019</time>
					</li>
							</ul>
		</div>

	
				
				
	<div class="loop-nav">
		<div class="prev">Previous: <a href="./../nservicebus-an-experience-report/index.html" rel="prev">NServiceBus: An Experience Report</a>
</div>		<div class="next">Next: <a href="./../how-to-identify-common-code-smells-using-the-ndepend-api/index.html" rel="next">How to identify common Code Smells using the NDepend API</a>
</div>	</div>
<!-- .loop-nav -->


			
		</main><!-- #main -->
	</div>
<!-- #primary -->


<div id="secondary" class="widget-area" role="complementary" aria-label="Primary Sidebar" itemscope="itemscope" itemtype="http://schema.org/WPSideBar">
	<aside id="search-4" class="widget widget_search"><form role="search" method="get" class="searchform" action=".//">
	<div>
		<input type="search" class="search-field field" placeholder="Press enter to search &hellip;" value="" name="s" title="Search for:">
	</div>
</form>
</aside>
		<aside id="recent-posts-4" class="widget widget_recent_entries">
		<h3 class="widget-title">Recent Posts</h3>
		<ul>
											<li>
					<a href="./../how-to-identify-common-code-smells-using-the-ndepend-api/index.html">How to identify common Code Smells using the NDepend API</a>
									</li>
											<li>
					<a href="./index.html" aria-current="page">Interviewing your architecture</a>
									</li>
											<li>
					<a href="./../nservicebus-an-experience-report/index.html">NServiceBus: An Experience Report</a>
									</li>
											<li>
					<a href="./../handling-failure-in-long-running-processes/index.html">Handling Failure in Long Running Processes</a>
									</li>
											<li>
					<a href="./../7-strategies-for-assigning-ids/index.html">7 Strategies for Assigning Ids</a>
									</li>
					</ul>

		</aside><aside id="tag_cloud-3" class="widget widget_tag_cloud"><h3 class="widget-title">Tags</h3>
<div class="tagcloud">
<a href="./../tag/agile/index.html" class="tag-cloud-link tag-link-29 tag-link-position-1" style="font-size: 12px;">agile</a>
<a href="./../tag/architecture/index.html" class="tag-cloud-link tag-link-33 tag-link-position-2" style="font-size: 12px;">architecture</a>
<a href="./../tag/books/index.html" class="tag-cloud-link tag-link-14 tag-link-position-3" style="font-size: 12px;">books</a>
<a href="./../tag/code-smells/index.html" class="tag-cloud-link tag-link-65 tag-link-position-4" style="font-size: 12px;">code smells</a>
<a href="./../tag/ddd/index.html" class="tag-cloud-link tag-link-28 tag-link-position-5" style="font-size: 12px;">ddd</a>
<a href="./../tag/detection-strategy/index.html" class="tag-cloud-link tag-link-67 tag-link-position-6" style="font-size: 12px;">detection strategy</a>
<a href="./../tag/integration/index.html" class="tag-cloud-link tag-link-9 tag-link-position-7" style="font-size: 12px;">integration</a>
<a href="./../tag/long-running-process/index.html" class="tag-cloud-link tag-link-93 tag-link-position-8" style="font-size: 12px;">long running process</a>
<a href="./../tag/messaging/index.html" class="tag-cloud-link tag-link-10 tag-link-position-9" style="font-size: 12px;">messaging</a>
<a href="./../tag/metrics/index.html" class="tag-cloud-link tag-link-60 tag-link-position-10" style="font-size: 12px;">metrics</a>
<a href="./../tag/microservices/index.html" class="tag-cloud-link tag-link-87 tag-link-position-11" style="font-size: 12px;">microservices</a>
<a href="./../tag/msmq/index.html" class="tag-cloud-link tag-link-48 tag-link-position-12" style="font-size: 12px;">msmq</a>
<a href="./../tag/ndepend/index.html" class="tag-cloud-link tag-link-51 tag-link-position-13" style="font-size: 12px;">NDepend</a>
<a href="./../tag/nservicebus/index.html" class="tag-cloud-link tag-link-8 tag-link-position-14" style="font-size: 12px;">NServiceBus</a>
<a href="./../tag/quality/index.html" class="tag-cloud-link tag-link-24 tag-link-position-15" style="font-size: 12px;">quality</a>
<a href="./../tag/security/index.html" class="tag-cloud-link tag-link-4 tag-link-position-16" style="font-size: 12px;">security</a>
<a href="./../tag/soa/index.html" class="tag-cloud-link tag-link-37 tag-link-position-17" style="font-size: 12px;">soa</a>
<a href="./../tag/specifications/index.html" class="tag-cloud-link tag-link-19 tag-link-position-18" style="font-size: 12px;">specifications</a>
<a href="./../tag/testing/index.html" class="tag-cloud-link tag-link-12 tag-link-position-19" style="font-size: 12px;">testing</a>
<a href="./../tag/visualization/index.html" class="tag-cloud-link tag-link-63 tag-link-position-20" style="font-size: 12px;">visualization</a>
</div>
</aside><aside id="archives-6" class="widget widget_archive"><h3 class="widget-title">Archives</h3>
			<ul>
					<li><a href="./../2020/03/index.html">March 2020</a></li>
	<li><a href="./../2020/02/index.html">February 2020</a></li>
	<li><a href="./../2019/08/index.html">August 2019</a></li>
	<li><a href="./../2019/07/index.html">July 2019</a></li>
	<li><a href="./../2019/06/index.html">June 2019</a></li>
	<li><a href="./../2019/04/index.html">April 2019</a></li>
	<li><a href="./../2019/03/index.html">March 2019</a></li>
	<li><a href="./../2019/02/index.html">February 2019</a></li>
	<li><a href="./../2019/01/index.html">January 2019</a></li>
	<li><a href="./../2018/10/index.html">October 2018</a></li>
	<li><a href="./../2018/07/index.html">July 2018</a></li>
	<li><a href="./../2018/06/index.html">June 2018</a></li>
	<li><a href="./../2018/02/index.html">February 2018</a></li>
	<li><a href="./../2017/01/index.html">January 2017</a></li>
	<li><a href="./../2016/12/index.html">December 2016</a></li>
	<li><a href="./../2016/11/index.html">November 2016</a></li>
	<li><a href="./../2016/10/index.html">October 2016</a></li>
	<li><a href="./../2016/09/index.html">September 2016</a></li>
	<li><a href="./../2016/08/index.html">August 2016</a></li>
	<li><a href="./../2016/07/index.html">July 2016</a></li>
	<li><a href="./../2016/06/index.html">June 2016</a></li>
	<li><a href="./../2016/05/index.html">May 2016</a></li>
	<li><a href="./../2016/04/index.html">April 2016</a></li>
	<li><a href="./../2016/03/index.html">March 2016</a></li>
			</ul>

			</aside><aside id="rss_links-3" class="widget widget_rss_links"><ul><li><a target="_self" href="./../feed/index.html" title="Subscribe to posts">RSS - Posts</a></li></ul>
</aside><aside id="search-2" class="widget widget_search"><form role="search" method="get" class="searchform" action=".//">
	<div>
		<input type="search" class="search-field field" placeholder="Press enter to search &hellip;" value="" name="s" title="Search for:">
	</div>
</form>
</aside>
		<aside id="recent-posts-2" class="widget widget_recent_entries">
		<h3 class="widget-title">Recent Posts</h3>
		<ul>
											<li>
					<a href="./../how-to-identify-common-code-smells-using-the-ndepend-api/index.html">How to identify common Code Smells using the NDepend API</a>
									</li>
											<li>
					<a href="./index.html" aria-current="page">Interviewing your architecture</a>
									</li>
											<li>
					<a href="./../nservicebus-an-experience-report/index.html">NServiceBus: An Experience Report</a>
									</li>
											<li>
					<a href="./../handling-failure-in-long-running-processes/index.html">Handling Failure in Long Running Processes</a>
									</li>
											<li>
					<a href="./../7-strategies-for-assigning-ids/index.html">7 Strategies for Assigning Ids</a>
									</li>
					</ul>

		</aside><aside id="recent-comments-2" class="widget widget_recent_comments"><h3 class="widget-title">Recent Comments</h3>
<ul id="recentcomments">
<li class="recentcomments">
<span class="comment-author-link"><a href="https://codetheweb.blog/" class="url" rel="ugc external nofollow">Booligoosh</a></span> on <a href="./../why-i-started-blogging/index.html#comment-58">Why I started blogging</a>
</li>
<li class="recentcomments">
<span class="comment-author-link"><a href="./../index.html" class="url" rel="ugc">Victor</a></span> on <a href="./../overview-pyramid-metrics-ndepend/index.html#comment-57">Computing the Overview Pyramid metrics with NDepend</a>
</li>
<li class="recentcomments">
<span class="comment-author-link">Geoffrey</span> on <a href="./../overview-pyramid-metrics-ndepend/index.html#comment-56">Computing the Overview Pyramid metrics with NDepend</a>
</li>
<li class="recentcomments">
<span class="comment-author-link"><a href="./../index.html" class="url" rel="ugc">Victor</a></span> on <a href="./../book-review-object-oriented-metrics-in-practice/index.html#comment-55">Book Review: Object-Oriented Metrics in Practice</a>
</li>
<li class="recentcomments">
<span class="comment-author-link">pschwarz</span> on <a href="./../book-review-object-oriented-metrics-in-practice/index.html#comment-54">Book Review: Object-Oriented Metrics in Practice</a>
</li>
</ul></aside><aside id="archives-2" class="widget widget_archive"><h3 class="widget-title">Archives</h3>
			<ul>
					<li><a href="./../2020/03/index.html">March 2020</a></li>
	<li><a href="./../2020/02/index.html">February 2020</a></li>
	<li><a href="./../2019/08/index.html">August 2019</a></li>
	<li><a href="./../2019/07/index.html">July 2019</a></li>
	<li><a href="./../2019/06/index.html">June 2019</a></li>
	<li><a href="./../2019/04/index.html">April 2019</a></li>
	<li><a href="./../2019/03/index.html">March 2019</a></li>
	<li><a href="./../2019/02/index.html">February 2019</a></li>
	<li><a href="./../2019/01/index.html">January 2019</a></li>
	<li><a href="./../2018/10/index.html">October 2018</a></li>
	<li><a href="./../2018/07/index.html">July 2018</a></li>
	<li><a href="./../2018/06/index.html">June 2018</a></li>
	<li><a href="./../2018/02/index.html">February 2018</a></li>
	<li><a href="./../2017/01/index.html">January 2017</a></li>
	<li><a href="./../2016/12/index.html">December 2016</a></li>
	<li><a href="./../2016/11/index.html">November 2016</a></li>
	<li><a href="./../2016/10/index.html">October 2016</a></li>
	<li><a href="./../2016/09/index.html">September 2016</a></li>
	<li><a href="./../2016/08/index.html">August 2016</a></li>
	<li><a href="./../2016/07/index.html">July 2016</a></li>
	<li><a href="./../2016/06/index.html">June 2016</a></li>
	<li><a href="./../2016/05/index.html">May 2016</a></li>
	<li><a href="./../2016/04/index.html">April 2016</a></li>
	<li><a href="./../2016/03/index.html">March 2016</a></li>
			</ul>

			</aside><aside id="categories-2" class="widget widget_categories"><h3 class="widget-title">Categories</h3>
			<ul>
					<li class="cat-item cat-item-86">
<a href="./../category/architecture/index.html">Architecture</a>
</li>
	<li class="cat-item cat-item-2">
<a href="./../category/books/index.html">Books</a>
</li>
	<li class="cat-item cat-item-23">
<a href="./../category/clean-code/index.html">Clean Code</a>
</li>
	<li class="cat-item cat-item-49">
<a href="./../category/msmq/index.html">MSMQ</a>
</li>
	<li class="cat-item cat-item-38">
<a href="./../category/nservicebus/index.html">NServiceBus</a>
</li>
	<li class="cat-item cat-item-103">
<a href="./../category/process/index.html">Process</a>
</li>
	<li class="cat-item cat-item-27">
<a href="./../category/quality/index.html">Quality</a>
</li>
	<li class="cat-item cat-item-90">
<a href="./../category/quirks/index.html">Quirks</a>
</li>
	<li class="cat-item cat-item-3">
<a href="./../category/security/index.html">Security</a>
</li>
	<li class="cat-item cat-item-81">
<a href="./../category/soft-skills/index.html">Soft Skills</a>
</li>
	<li class="cat-item cat-item-36">
<a href="./../category/specification-by-example/index.html">Specification by Example</a>
</li>
	<li class="cat-item cat-item-1">
<a href="./../category/uncategorized/index.html">Uncategorized</a>
</li>
			</ul>

			</aside><aside id="meta-2" class="widget widget_meta"><h3 class="widget-title">Meta</h3>
		<ul>
						<li><a href="./../wp-login.php">Log in</a></li>
			<li><a href="./../feed/index.html">Entries feed</a></li>
			<li><a href="./../comments/feed/index.html">Comments feed</a></li>

			<li><a href="https://wordpress.org/">WordPress.org</a></li>
		</ul>

		</aside>
</div>
<!-- #secondary -->
		</div>
<!-- .wide-container -->
	</div>
<!-- #content -->

	
	<footer id="colophon" class="site-footer" itemscope="itemscope" itemtype="http://schema.org/WPFooter">
		<div class="wide-container">

			<div class="site-info">
				<p class="copyright">&copy; Copyright 2024 <a href="./../index.html">Simple Oriented Architecture</a> &middot; Designed by <a href="http://www.theme-junkie.com/">Theme Junkie</a></p>			</div>
<!-- .site-info -->

			<div class="social-links">
<a href="https://twitter.com/victorchircu/"><i class="fa fa-twitter"></i></a><a href="https://www.linkedin.com/in/victor-chircu-1519a331"><i class="fa fa-linkedin"></i></a>
</div>
		</div>
	</footer><!-- #colophon -->

</div>
<!-- #page -->

	<div style="display:none">
			<div class="grofile-hash-map-331148ee28fef6336a73beb488fc0bdc">
		</div>
		</div>
		<script type="text/javascript" src="./../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9b" id="syntaxhighlighter-core-js"></script>
<script type="text/javascript" src="./../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.9b" id="syntaxhighlighter-brush-csharp-js"></script>
<script type="text/javascript" src="./../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.9b" id="syntaxhighlighter-brush-xml-js"></script>
<script type="text/javascript">(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = ".//wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.head.appendChild( corecss );
		var themecssurl = ".//wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		document.head.appendChild( themecss );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

	// Infinite scroll support
	if ( typeof( jQuery ) !== 'undefined' ) {
		jQuery( function( $ ) {
			$( document.body ).on( 'post-load', function() {
				SyntaxHighlighter.highlight();
			} );
		} );
	}</script>
<script type="text/javascript" src="./../wp-content/themes/bulan/assets/js/bulan.min.js" id="bulan-scripts-js"></script>
<script type="text/javascript" src="https://stats.wp.com/e-202445.js" id="jetpack-stats-js" data-wp-strategy="defer"></script>
<script type="text/javascript" id="jetpack-stats-js-after">
/* <![CDATA[ */
_stq = window._stq || [];
_stq.push([ "view", JSON.parse("{\"v\":\"ext\",\"blog\":\"108420443\",\"post\":\"1143\",\"tz\":\"0\",\"srv\":\"www.simpleorientedarchitecture.com\",\"j\":\"1:14.0\"}") ]);
_stq.push([ "clickTrackerInit", "108420443", "1143" ]);
/* ]]> */
</script>

</body>
</html>